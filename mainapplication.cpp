#include "mainapplication.h"
#include <QTimer>
#include <QCoreApplication>
#include <QDebug>

MainApplication::MainApplication(QObject *parent)
    : QObject(parent)
    , m_updater(new Updater(this))
{
    qDebug() << Q_FUNC_INFO << "Starting Main application";

    QTimer *t = new QTimer(this);
    connect(t, &QTimer::timeout, this, [=]() {
        qDebug() << Q_FUNC_INFO << "Running my program. PID number:"
                 << QCoreApplication::applicationPid();
    });
    t->setInterval(2000);
    t->start();

    QTimer *updateTimer = new QTimer(this);
    connect(updateTimer, &QTimer::timeout, m_updater, &Updater::update);
    updateTimer->setInterval(5000);
    updateTimer->start();
}
